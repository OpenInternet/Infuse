(()=>{var n={353:function(e){e.exports=function(){"use strict";var u,p,v=6e4,_=36e5,f="millisecond",a="second",r="minute",c="hour",o="day",h="week",n="month",y="quarter",s="year",l="date",j="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var s=String(e);return!s||s.length>=t?e:""+Array(t+1-s.length).join(n)+e},O={s:g,z:function(e){var t=-e.utcOffset(),n=t<0?-t:t,s=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(s,2,"0")+":"+g(o,2,"0")},m:function e(t,s){if(t.date()<s.date())return-e(s,t);var i=12*(s.year()-t.year())+(s.month()-t.month()),o=t.clone().add(i,n),a=s-o<0,r=t.clone().add(i+(a?-1:1),n);return+(-(i+(s-o)/(a?o-r:r-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:n,y:s,w:h,d:o,D:l,h:c,m:r,s:a,ms:f,Q:y}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return 0[0]===e}},d="en",i={};i[d]=x;var b=function(e){return e instanceof u},m=function e(t,n,s){if(!t)return d;if("string"==typeof t){{var o,r,c,a=t.toLowerCase();if(i[a]&&(o=a),n&&(i[a]=n,o=a),r=t.split("-"),!o&&r.length>1)return e(r[0])}}else c=t.name,i[c]=t,o=c;return!s&&o&&(d=o),o||!s&&d},t=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new u(n)},e=O;return e.l=m,e.i=b,e.w=function(e,n){return t(e,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})},u=function(){function u(e){this.$L=m(e.locale,null,!0),this.parse(e)}var d=u.prototype;return d.parse=function(t){this.$d=function(t){var n,o,i,s=t.date,a=t.utc;return null===s?new Date(NaN):e.u(s)?new Date:s instanceof Date?new Date(s):"string"==typeof s&&!/Z$/i.test(s)&&(n=s.match(C),n)?(o=n[2]-1||0,i=(n[7]||"0").substring(0,3),a?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(s)}(t),this.$x=t.x||{},this.init()},d.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},d.$utils=function(){return e},d.isValid=function(){return this.$d.toString()!==j},d.isSame=function(e,n){var s=t(e);return this.startOf(n)<=s&&s<=this.endOf(n)},d.isAfter=function(e,n){return t(e)<this.startOf(n)},d.isBefore=function(e,n){return this.endOf(n)<t(e)},d.$g=function(t,n,s){return e.u(t)?this[n]:this.set(s,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,i){var b,j,d=this,u=!!e.u(i)||i,_=e.p(t),m=function(t,n){var s=e.w(d.$u?Date.UTC(d.$y,n,t):new Date(d.$y,n,t),d);return u?s:s.endOf(o)},f=function(t,n){return e.w(d.toDate()[t].apply(d.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(n)),d)},g=this.$W,v=this.$M,y=this.$D,p="set"+(this.$u?"UTC":"");switch(_){case s:return u?m(1,0):m(31,11);case n:return u?m(1,v):m(0,v+1);case h:return b=this.$locale().weekStart||0,j=(g<b?g+7:g)-b,m(u?y-j:y+(6-j),v);case o:case l:return f(p+"Hours",0);case c:return f(p+"Minutes",1);case r:return f(p+"Seconds",2);case a:return f(p+"Milliseconds",3);default:return this.clone()}},d.endOf=function(e){return this.startOf(e,!1)},d.$set=function(t,i){var d,h,m=e.p(t),u="set"+(this.$u?"UTC":""),p=(d={},d[o]=u+"Date",d[l]=u+"Date",d[n]=u+"Month",d[s]=u+"FullYear",d[c]=u+"Hours",d[r]=u+"Minutes",d[a]=u+"Seconds",d[f]=u+"Milliseconds",d)[m],g=m===o?this.$D+(i-this.$W):i;return m===n||m===s?(h=this.clone().set(l,1),h.$d[p](g),h.init(),this.$d=h.set(l,Math.min(this.$D,h.daysInMonth())).$d):p&&this.$d[p](g),this.init(),this},d.set=function(e,t){return this.clone().$set(e,t)},d.get=function(t){return this[e.p(t)]()},d.add=function(i,l){m=this,i=Number(i);var d,m,p,g,u=e.p(l),f=function(n){var s=t(m);return e.w(s.date(s.date()+Math.round(n*i)),m)};return u===n?this.set(n,this.$M+i):u===s?this.set(s,this.$y+i):u===o?f(1):u===h?f(7):(p=(d={},d[r]=v,d[c]=_,d[a]=1e3,d)[u]||1,g=this.$d.getTime()+i*p,e.w(g,this))},d.subtract=function(e,t){return this.add(-1*e,t)},d.format=function(t){if(u=this,n=this.$locale(),!this.isValid())return n.invalidDate||j;var n,u,l=t||"YYYY-MM-DDTHH:mm:ssZ",c=e.z(this),s=this.$H,i=this.$m,a=this.$M,r=n.weekdays,d=n.months,o=function(e,t,n,s){return e&&(e[t]||e(u,l))||n[t].slice(0,s)},h=function(t){return e.s(s%12||12,t,"0")},m=n.meridiem||function(e,t,n){var s=e<12?"AM":"PM";return n?s.toLowerCase():s},f={YY:String(this.$y).slice(-2),YYYY:e.s(this.$y,4,"0"),M:a+1,MM:e.s(a+1,2,"0"),MMM:o(n.monthsShort,a,d,3),MMMM:o(d,a),D:this.$D,DD:e.s(this.$D,2,"0"),d:String(this.$W),dd:o(n.weekdaysMin,this.$W,r,2),ddd:o(n.weekdaysShort,this.$W,r,3),dddd:r[this.$W],H:String(s),HH:e.s(s,2,"0"),h:h(1),hh:h(2),a:m(s,i,!0),A:m(s,i,!1),m:String(i),mm:e.s(i,2,"0"),s:String(this.$s),ss:e.s(this.$s,2,"0"),SSS:e.s(this.$ms,3,"0"),Z:c};return l.replace(w,function(e,t){return t||f[e]||c.replace(":","")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(i,l,d){var u,b=e.p(l),p=t(i),g=(p.utcOffset()-this.utcOffset())*v,m=this-p,f=e.m(this,p);return f=(u={},u[s]=f/12,u[n]=f,u[y]=f/3,u[h]=(m-g)/6048e5,u[o]=(m-g)/864e5,u[c]=m/_,u[r]=m/v,u[a]=m/1e3,u)[b]||m,d?f:e.a(f)},d.daysInMonth=function(){return this.endOf(n).$D},d.$locale=function(){return i[this.$L]},d.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),s=m(e,t,!0);return s&&(n.$L=s),n},d.clone=function(){return e.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},u}(),p=u.prototype,t.prototype=p,[["$ms",f],["$s",a],["$m",r],["$H",c],["$W",o],["$M",n],["$y",s],["$D",l]].forEach(function(e){p[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),t.extend=function(e,n){return e.$i||(e(n,u,t),e.$i=!0),t},t.locale=m,t.isDayjs=b,t.unix=function(e){return t(1e3*e)},t.en=i[d],t.Ls=i,t.p={},t}()},522:function(e){e.exports=function(){"use strict";var e,m,h=1e3,u=6e4,r=36e5,d=864e5,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=31536e6,c=2592e6,g=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s={years:l,months:c,days:d,hours:r,minutes:u,seconds:h,milliseconds:1,weeks:6048e5},a=function(e){return e instanceof p},i=function(e,t,n){return new p(e,n,t.$l)},o=function(t){return e.p(t)+"s"},f=function(e){return e<0},t=function(e){return f(e)?Math.ceil(e):Math.floor(e)},b=function(e){return e<0?-e:e},n=function(e,t){return e?f(e)?{negative:!0,format:""+b(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},p=function(){function p(e,t,n){var a,r,c=this;return this.$d={},this.$l=n,0[0]===e&&(this.$ms=0,this.parseFromMilliseconds()),t?i(e*s[o(t)],this):"number"==typeof e?(this.$ms=e,this.parseFromMilliseconds(),this):"object"==typeof e?(Object.keys(e).forEach(function(t){c.$d[o(t)]=e[t]}),this.calMilliseconds(),this):"string"==typeof e&&(r=e.match(g),r)?(a=r.slice(2).map(function(e){return e!=null?Number(e):0}),this.$d.years=a[0],this.$d.months=a[1],this.$d.weeks=a[2],this.$d.days=a[3],this.$d.hours=a[4],this.$d.minutes=a[5],this.$d.seconds=a[6],this.calMilliseconds(),this):this}var f=p.prototype;return f.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(t,n){return t+(e.$d[n]||0)*s[n]},0)},f.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=t(e/l),e%=l,this.$d.months=t(e/c),e%=c,this.$d.days=t(e/d),e%=d,this.$d.hours=t(e/r),e%=r,this.$d.minutes=t(e/u),e%=u,this.$d.seconds=t(e/h),e%=h,this.$d.milliseconds=e},f.toISOString=function(){var i=n(this.$d.years,"Y"),a=n(this.$d.months,"M"),r=+this.$d.days||0;this.$d.weeks&&(r+=7*this.$d.weeks);var c=n(r,"D"),e=n(this.$d.hours,"H"),t=n(this.$d.minutes,"M"),l=this.$d.seconds||0;this.$d.milliseconds&&(l+=this.$d.milliseconds/1e3);var s=n(l,"S"),d=i.negative||a.negative||c.negative||e.negative||t.negative||s.negative,u=e.format||t.format||s.format?"T":"",o=(d?"-":"")+"P"+i.format+a.format+c.format+u+e.format+t.format+s.format;return"P"===o||"-P"===o?"P0D":o},f.toJSON=function(){return this.toISOString()},f.format=function(t){var n=t||"YYYY-MM-DDTHH:mm:ss",s={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return n.replace(v,function(e,t){return t||String(s[e])})},f.as=function(e){return this.$ms/s[o(e)]},f.get=function(e){var n=this.$ms,i=o(e);return"milliseconds"===i?n%=1e3:n="weeks"===i?t(n/s[i]):this.$d[i],0===n?0:n},f.add=function(e,t,n){var r;return r=t?e*s[o(t)]:a(e)?e.$ms:i(e,this).$ms,i(this.$ms+r*(n?-1:1),this)},f.subtract=function(e,t){return this.add(e,t,!0)},f.locale=function(e){var t=this.clone();return t.$l=e,t},f.clone=function(){return i(this.$ms,this)},f.humanize=function(e){return m().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},f.valueOf=function(){return this.asMilliseconds()},f.milliseconds=function(){return this.get("milliseconds")},f.asMilliseconds=function(){return this.as("milliseconds")},f.seconds=function(){return this.get("seconds")},f.asSeconds=function(){return this.as("seconds")},f.minutes=function(){return this.get("minutes")},f.asMinutes=function(){return this.as("minutes")},f.hours=function(){return this.get("hours")},f.asHours=function(){return this.as("hours")},f.days=function(){return this.get("days")},f.asDays=function(){return this.as("days")},f.weeks=function(){return this.get("weeks")},f.asWeeks=function(){return this.as("weeks")},f.months=function(){return this.get("months")},f.asMonths=function(){return this.as("months")},f.years=function(){return this.get("years")},f.asYears=function(){return this.as("years")},p}();return function(t,n,s){m=s,e=s().$utils(),s.duration=function(e,t){var n=s.locale();return i(e,{$l:n},t)},s.isDuration=a;var o=n.prototype.add,r=n.prototype.subtract;n.prototype.add=function(e,t){return a(e)&&(e=e.asMilliseconds()),o.bind(this)(e,t)},n.prototype.subtract=function(e,t){return a(e)&&(e=e.asMilliseconds()),r.bind(this)(e,t)}}}()},867:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},906:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},750:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,s){var o=n.prototype,i=o.format;s.en.formats=e,o.format=function(t){0[0]===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,s=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(t,s,o){var i=o&&o.toUpperCase();return s||n[o]||e[o]||n[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})})}(t,0[0]===n?{}:n);return i.call(this,s)}}}()},369:(e,t,n)=>{var s=n(129),o=[n(653),n(416),n(234),n(529)];e.exports=s.createStore(o,[])},129:(e,t,n)=>{var c,s=n(123),l=s.slice,d=s.pluck,o=s.each,u=s.bind,h=s.create,i=s.isList,a=s.isFunction,m=s.isObject;e.exports={createStore:r},c={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return 0[0]===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,s){e.call(t,t._deserialize(n),(s||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return r.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return r(this.storage,this.plugins,e)}};function r(e,t,n){n||(n=""),e&&!i(e)&&(e=[e]),t&&!i(t)&&(t=[t]);var s,f,r=n?"__storejs_"+n+"_":"",p=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");return f={_namespacePrefix:r,_namespaceRegexp:p,_testStorage:function(e){try{var n,t="__storejs__test__";return e.write(t,t),n=e.read(t)===t,e.remove(t),n}catch{return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=l(arguments,0),s=this,i=[function(){if(n)return o(arguments,function(e,n){t[n]=e}),n.apply(s,t)}].concat(t);return e.apply(s,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch{n=e}return 0[0]!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t,n=this;if(i(e))o(e,function(e){n._addPlugin(e)});else if(!d(this.plugins,function(t){return e===t})){if(this.plugins.push(e),!a(e))throw new Error("Plugins must be function values that return objects");if(t=e.call(this),!m(t))throw new Error("Plugins must return an object of function properties");o(t,function(t,s){if(!a(t))throw new Error("Bad plugin property: "+s+" from plugin "+e.name+". Plugins should only return functions.");n._assignPluginFnProp(t,s)})}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},s=h(f,c,{plugins:[]}),s.raw={},o(s,function(e,t){a(e)&&(s.raw[t]=u(s,e))}),o(e,function(e){s._addStorage(e)}),o(t,function(e){s._addPlugin(e)}),s}},123:(e,t,n)=>{var s=Object.assign?Object.assign:function(e){for(var o=1;o<arguments.length;o++)r(Object(arguments[o]),function(t,n){e[n]=t});return e},c=function(){if(Object.create)return function(e){var a=o(arguments,1);return s.apply(this,[Object.create(e)].concat(a))};{function e(){}return function(t){var r=o(arguments,1);return e.prototype=t,s.apply(this,[new e].concat(r))}}}(),l=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},d="undefined"!=typeof window?window:n.g;function o(e,t){return Array.prototype.slice.call(e,t||0)}function r(e,t){i(e,function(e,n){return t(e,n),!1})}function i(e,t){if(a(e)){for(var s,n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(s in e)if(e.hasOwnProperty(s)&&t(e[s],s))return e[s]}function a(e){return e!=null&&"function"!=typeof e&&"number"==typeof e.length}e.exports={assign:s,create:c,trim:l,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:o,each:r,map:function(e,t){var n=a(e)?[]:{};return i(e,function(e,s){return n[s]=t(e,s),!1}),n},pluck:i,isList:a,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:d}},234:(e,t,n)=>{var s,o=n(123),c=o.Global,l=o.trim;e.exports={name:"cookieStorage",read:function(e){if(!e||!r(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(s.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){e&&(s.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")},each:i,remove:a,clearAll:function(){i(function(e,t){a(t)})}},s=c.document;function i(e){for(var o,i,n=s.cookie.split(/; ?/g),t=n.length-1;t>=0;t--)l(n[t])&&(o=n[t].split("="),i=unescape(o[0]),e(unescape(o[1]),i))}function a(e){e&&r(e)&&(s.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function r(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(s.cookie)}},653:(e,t,n)=>{var i=n(123).Global;function s(){return i.localStorage}function o(e){return s().getItem(e)}e.exports={name:"localStorage",read:o,write:function(e,t){return s().setItem(e,t)},each:function(e){for(var n,t=s().length-1;t>=0;t--)n=s().key(t),e(o(n),n)},remove:function(e){return s().removeItem(e)},clearAll:function(){return s().clear()}}},529:e=>{e.exports={name:"memoryStorage",read:function(e){return t[e]},write:function(e,n){t[e]=n},each:function(e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},remove:function(e){delete t[e]},clearAll:function(){t={}}};var t={}},416:(e,t,n)=>{var i=n(123).Global;function s(){return i.sessionStorage}function o(e){return s().getItem(e)}e.exports={name:"sessionStorage",read:o,write:function(e,t){return s().setItem(e,t)},each:function(e){for(var n,t=s().length-1;t>=0;t--)n=s().key(t),e(o(n),n)},remove:function(e){return s().removeItem(e)},clearAll:function(){return s().clear()}}},828:function(e,t,n){"use strict";o=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserStore=0[0];var s,o,a=n(652),i=n(369),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.load=function(){var n=i.get(t.storeJsKey);if(n&&"object"==typeof n&&(n.consents&&"object"==typeof n.consents||n.visits&&Array.isArray(n.visits)||n.events&&Array.isArray(n.events)))return n},t.prototype.persist=function(e,n){i.set(t.storeJsKey,this),n()},t.prototype.send=function(e,t,n,s){var o=new XMLHttpRequest;o.onreadystatechange=function(){try{if(o.readyState===XMLHttpRequest.DONE){if(200!==o.status&&204!==o.status)return s(new Error("HTTP Error ".concat(o.status,": ").concat(o.responseText)));s()}}catch(e){s(e)}},o.timeout=1e3*n,o.open("POST",t),o.setRequestHeader("Content-type","application/json; charset=UTF-8"),o.send(e)},t.storeJsKey="clean-insights",t}(a.Store);t.BrowserStore=r},951:function(e,t,n){"use strict";o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(t,"__esModule",{value:!0}),t.Campaign=0[0];var o,i,a,s=o(n(353)),r=o(n(522)),c=o(n(906));s.default.extend(r.default),s.default.extend(c.default),i=n(777),a=function(){function e(e,t,n,o,a,r,c){if("isValid"in e){if(!t||!n)throw TypeError("You either need to provide all non-optional arguments in their place or in an object as the first argument.");this.start=e,this.end=t,this.aggregationPeriodLength=n,this.numberOfPeriods="number"==typeof o?o:1,this.onlyRecordOnce=a||!1,this.eventAggregationRule=r||i.EventAggregationRule.Sum,this.strengthenAnonymity=c||!1}else this.start=(0,s.default)(e.start),this.end=(0,s.default)(e.end),this.aggregationPeriodLength=e.aggregationPeriodLength,this.numberOfPeriods="number"==typeof e.numberOfPeriods?e.numberOfPeriods:1,this.onlyRecordOnce=e.onlyRecordOnce||!1,this.eventAggregationRule="avg"===e.eventAggregationRule?i.EventAggregationRule.Avg:i.EventAggregationRule.Sum,this.strengthenAnonymity=e.strengthenAnonymity||!1}return Object.defineProperty(e.prototype,"aggregationPeriod",{get:function(){return s.default.duration(this.aggregationPeriodLength,"days")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentMeasurementPeriod",{get:function(){if(this.numberOfPeriods<=0)return null;var n,t=(0,s.default)(),e=this.start;do e=e.add(this.aggregationPeriod);while(e.isSameOrBefore(t))return n=e.subtract(this.aggregationPeriod).isAfter(this.start)?e.subtract(this.aggregationPeriod):this.start,e.isAfter(this.end)&&(e=this.end),t=(0,s.default)(),n.isAfter(t)||e.isBefore(t)?null:{start:n,end:e}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextTotalMeasurementPeriod",{get:function(){if(t=this.currentMeasurementPeriod,!t)return null;for(var t,n=this.strengthenAnonymity?t.end:t.start,e=n,s=0;s<this.numberOfPeriods&&e.add(this.aggregationPeriod)<=this.end;)e=e.add(this.aggregationPeriod),s+=1;return n.isSame(e)?null:{start:n,end:e}},enumerable:!1,configurable:!0}),e.prototype.apply=function(e,t){if(!this.onlyRecordOnce&&"number"==typeof t){var n="number"==typeof e.value?e.value:0;switch(this.eventAggregationRule){case"sum":e.value=n+t;break;case"avg":e.value=(n*(e.times-1)+t)/e.times}}},e.prototype.toString=function(){return"[".concat(this.constructor.name,": start=").concat(this.start,", end=").concat(this.end,", aggregationPeriodLength=").concat(this.aggregationPeriodLength,", numberOfPeriods=").concat(this.numberOfPeriods,", onlyRecordOnce=").concat(this.onlyRecordOnce,", eventAggregationRule=").concat(this.eventAggregationRule,"]")},e}(),t.Campaign=a},329:function(e,t,n){"use strict";i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(t,"__esModule",{value:!0}),t.CleanInsights=0[0];var i,a,g=n(828),o=n(446),r=n(687),u=n(563),l=n(61),c=n(744),d=n(206),s=i(n(353)),h=i(n(522)),m=i(n(906)),f=i(n(867)),p=i(n(750));s.default.extend(h.default),s.default.extend(m.default),s.default.extend(f.default),s.default.extend(p.default),a=function(){function e(e,t){var n,o=this;if(this.persistenceCounter=0,this.sending=!1,this.failedSubmissionCount=0,this.lastFailedSubmission=s.default.unix(0),"object"!=typeof e)throw new TypeError("Invalid configuration provided.");if(e instanceof r.Configuration?this.conf=e:this.conf=new r.Configuration(e),n=function(e){o.debug(e)},!this.conf.check(n))throw new TypeError("Invalid configuration provided.");this.store="object"==typeof t&&t?t:new g.BrowserStore({},n)}return e.prototype.measureVisit=function(e,t){var n,s,o=this.getCampaignIfGood(t,e.join("/"));o&&(n=this.getAndMeasure(this.store.visits,t,o,function(t){return t.scenePath.join("/")===e.join("/")}),n?this.debug("Gain visit insight: ".concat(n)):(s=o.currentMeasurementPeriod,s?(n=new d.Visit(e,t,0[0],s.start,s.end),this.store.visits.push(n),this.debug("Gain visit insight: ".concat(n))):this.debug("campaign.currentMeasurementPeriod == null! This should not happen!"))),this.persistAndSend()},e.prototype.measureEvent=function(e,t,n,s,o){var i,r,a=this.getCampaignIfGood(n,"".concat(e,"/").concat(t));a&&(i=this.getAndMeasure(this.store.events,n,a,function(n){return n.category===e&&n.action===t&&n.name===s}),i?(a.apply(i,o),this.debug("Gain event insight: ".concat(i))):(r=a.currentMeasurementPeriod,r?(i=new l.Event(e,t,s,o,n,0[0],r.start,r.end),this.store.events.push(i),this.debug("Gain event insight: ".concat(i))):this.debug("campaign.currentMeasurementPeriod == null! This should not happen!"))),this.persistAndSend()},Object.defineProperty(e.prototype,"featureConsents",{get:function(){return Object.keys(this.store.consents.features)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"campaignConsents",{get:function(){return Object.keys(this.store.consents.campaigns)},enumerable:!1,configurable:!0}),e.prototype.getFeatureConsentByIndex=function(e){var t=Object.keys(this.store.consents.features)[e];return this.store.consents.consentForFeature(t)},e.prototype.getCampaignConsentByIndex=function(e){var t=Object.keys(this.store.consents.campaigns)[e];return this.store.consents.consentForCampaign(t)},e.prototype.grantFeature=function(e){var t=this.store.consents.grantFeature(e);return this.persistAndSend(),t},e.prototype.denyFeature=function(e){var t=this.store.consents.denyFeature(e);return this.persistAndSend(),t},e.prototype.consentForFeature=function(e){return this.conf.serverSideAnonymousUsage?new o.FeatureConsent(e,new o.Consent(!1)):this.store.consents.consentForFeature(e)},e.prototype.stateOfFeature=function(e){return this.conf.serverSideAnonymousUsage?o.ConsentState.denied:this.store.consents.stateOfFeature(e)},e.prototype.grantCampaign=function(e){if(!this.conf.campaigns.hasOwnProperty(e))return null;var t=this.conf.campaigns[e],n=this.store.consents.grantCampaign(e,t);return this.persistAndSend(),n},e.prototype.denyCampaign=function(e){if(!this.conf.campaigns.hasOwnProperty(e))return null;var t=this.store.consents.denyCampaign(e);return this.persistAndSend(),t},e.prototype.isCampaignCurrentlyGranted=function(e){return this.stateOfCampaign(e)==o.ConsentState.granted},e.prototype.consentForCampaign=function(e){return this.conf.serverSideAnonymousUsage?new o.CampaignConsent(e,new o.Consent(!0)):this.conf.campaigns.hasOwnProperty(e)?(0,s.default)().isSameOrAfter(this.conf.campaigns[e].end)?null:this.store.consents.consentForCampaign(e):null},e.prototype.stateOfCampaign=function(e){return this.conf.serverSideAnonymousUsage?o.ConsentState.granted:this.conf.campaigns.hasOwnProperty(e)?(0,s.default)().isSameOrAfter(this.conf.campaigns[e].end)?o.ConsentState.unconfigured:this.store.consents.stateOfCampaign(e):o.ConsentState.unconfigured},e.prototype.requestConsentForCampaign=function(e,t,n){var o,i,a=this;return"function"!=typeof n&&(n=function(){}),this.conf.campaigns.hasOwnProperty(e)?(i=this.conf.campaigns[e],(0,s.default)().isSameOrAfter(i.end)?(this.debug("Cannot request consent: End of campaign '".concat(e,"' reached.")),n(!1),""):null===i.nextTotalMeasurementPeriod?(this.debug("Cannot request consent: Campaign '".concat(e,"' configuration seems messed up.")),n(!1),""):this.store.consents.campaigns.hasOwnProperty(e)?(o=this.store.consents.campaigns[e],this.debug("Already asked for consent for campaign '".concat(e,"'. It was ").concat(o.granted?"granted between ".concat(o.start.format()," and ").concat(o.end.format()):"denied on ".concat(o.start.format()),".")),n(o.granted),""):t.showForCampaign(e,i,function(t){t?a.store.consents.grantCampaign(e,i):a.store.consents.denyCampaign(e),n&&n(t)})):(this.debug("Cannot request consent: Campaign '".concat(e,"' not configured.")),n(!1),"")},e.prototype.requestConsentForFeature=function(e,t,n){var s,i=this;return"function"!=typeof n&&(n=function(){}),this.store.consents.features.hasOwnProperty(e)?(s=this.store.consents.features[e],this.debug("Already asked for consent for feature '".concat(e,"'. It was ").concat(s.granted?"granted":"denied"," on ").concat(s.start.format(),".")),n(s.granted),""):t.showForFeature(e,function(t){t?i.store.consents.grantFeature(e):i.store.consents.denyFeature(e),n&&n(i.store.consents.stateOfFeature(e)==o.ConsentState.granted)})},e.prototype.testServer=function(e){var t=this;this.store.send("",this.conf.server,this.conf.timeout,function(n){if(n||(n=new Error("Server replied with no error while it should have responded with HTTP 400 Bad Request!")),n.message.startsWith("HTTP Error 400:"))return t.debug("Successfully tested server."),0[0];t.debug(n),e&&e(n)})},e.prototype.persist=function(){this._persist(!1,!0)},e.prototype._persist=function(e,t){var n=this;this.persistenceCounter+=1,(t||this.persistenceCounter>=this.conf.persistEveryNTimes)&&this.store.persist(e,function(e){e?n.debug(e):(n.persistenceCounter=0,n.debug("Data persisted to storage."))})},e.prototype.persistAndSend=function(){if(e=this,this._persist(!0),this.sending)this.debug("Data sending already in progress.");else{if(this.sending=!0,this.failedSubmissionCount>0){var e,t,i,n=this.lastFailedSubmission.add(this.conf.timeout*2**this.failedSubmissionCount,"seconds"),o=this.lastFailedSubmission.add(this.conf.maxRetryDelay,"seconds");if((0,s.default)().isBefore(n.isBefore(o)?n:o))return this.sending=!1,void this.debug("Waiting longer to send data after ".concat(this.failedSubmissionCount," failed attempts."))}if(t=new c.Insights(this.conf,this.store),t.isEmpty)return this.sending=!1,void this.debug("No data to send.");i=JSON.stringify(t),this.store.send(i,this.conf.server,this.conf.timeout,function(n){n?(e.lastFailedSubmission=(0,s.default)(),e.failedSubmissionCount++,e.debug(n)):(e.lastFailedSubmission=s.default.unix(0),e.failedSubmissionCount=0,t.clean(e.store),e.debug("Successfully sent data."),e._persist(!0,!0)),e.sending=!1})}},e.prototype.getCampaignIfGood=function(e,t){if(!this.conf.campaigns.hasOwnProperty(e))return null;var n=this.conf.campaigns[e],o=(0,s.default)();return o.isBefore(n.start)?(this.debug("Measurement '".concat(t,"' discarded, because campaign '").concat(e,"' didn't start, yet.")),null):o.isAfter(n.end)?(this.debug("Measurement '".concat(t,"' discarded, because campaign '").concat(e,"' already ended.")),null):this.isCampaignCurrentlyGranted(e)?n:(this.debug("Measurement '".concat(t,"' discarded, because campaign '").concat(e,"' has no user consent yet, any more or we're outside the measurement period.")),null)},e.prototype.getAndMeasure=function(e,t,n,s){var i,o=n.currentMeasurementPeriod;return o?(i=e.find(function(e){return e.campaignId===t&&e.first.isSameOrAfter(o.start)&&e.first.isSameOrBefore(o.end)&&e.last.isSameOrAfter(o.start)&&e.last.isSameOrBefore(o.end)&&s(e)}),i instanceof u.DataPoint?(n.onlyRecordOnce||(i.times+=1),i):null):(this.debug("campaign.currentMeasurementPeriod == null! This should not happen!"),null)},e.prototype.debug=function(e){this.conf.debug&&("object"==typeof e&&e?console.debug("[CleanInsightsSDK] ".concat(e.name,": ").concat(e.message,`

`).concat(e.stack)):console.debug("[CleanInsightsSDK] ".concat(e)))},e}(),t.CleanInsights=a},687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Configuration=0[0];var s=n(951),o=function(){function e(e,t,n,o,i,a,r,c,l){if("string"==typeof e){if(!t||!n)throw TypeError("You either need to provide all non-optional arguments in their place or in an object as the first argument.");this.server=e,this.siteId=t,this.campaigns=n,this.timeout="number"==typeof o?o:5,this.maxRetryDelay="number"==typeof i?i:3600,this.maxAgeOfOldData="number"==typeof a?a:100,this.persistEveryNTimes="number"==typeof r?r:10,this.serverSideAnonymousUsage=c||!1,this.debug=l||!1}else{for(var d in this.server=e.server,this.siteId=e.siteId,this.campaigns={},e.campaigns)e.campaigns.hasOwnProperty(d)&&(this.campaigns[d]=new s.Campaign(e.campaigns[d]));this.timeout="number"==typeof e.timeout?e.timeout:5,this.maxRetryDelay="number"==typeof e.maxRetryDelay?e.maxRetryDelay:3600,this.maxAgeOfOldData="number"==typeof e.maxAgeOfOldData?e.maxAgeOfOldData:100,this.persistEveryNTimes="number"==typeof e.persistEveryNTimes?e.persistEveryNTimes:10,this.serverSideAnonymousUsage=e.serverSideAnonymousUsage||!1,this.debug=e.debug||!1}}return e.prototype.toString=function(){return"[".concat(this.constructor.name,": server=").concat(this.server.toString(),", siteId=").concat(this.siteId,", timeout=").concat(this.timeout,", maxRetryDelay=").concat(this.maxRetryDelay,", maxAgeOfOldData=").concat(this.maxAgeOfOldData,", persistEveryNTimes=").concat(this.persistEveryNTimes,", debug=").concat(this.debug,", campaigns=").concat(this.campaigns,"]")},e.prototype.check=function(e){if(!this.server||!this.server.startsWith("http"))return e("Configuration problem: 'server' is not defined properly. It needs to be a full URL like this: 'https://example.org/cleaninsights.php'!"),!1;if(!this.siteId||this.siteId<1)return e("Configuration problem: 'siteId' is not defined properly. It needs to be a positive integer value!"),!1;for(var t in this.campaigns)if(this.campaigns.hasOwnProperty(t))return!0;return e("Configuration problem: No campaign defined!"),!1},e}();t.Configuration=o},384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentRequestUi=0[0];var n=function(){function e(){}return e.prototype.showForCampaign=function(){throw new Error("Override `ConsentRequestUi#showForCampaign` in your subclass!")},e.prototype.showForFeature=function(){throw new Error("Override `ConsentRequestUi#showForFeature` in your subclass!")},e}();t.ConsentRequestUi=n},563:function(e,t,n){"use strict";o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(t,"__esModule",{value:!0}),t.DataPoint=0[0];var o,s=o(n(353)),i=function(){function e(e,t,n,o){this.campaignId=e,this.times="number"==typeof t?t:1,this.first=n?(0,s.default)(n):(0,s.default)(),this.last=o?(0,s.default)(o):(0,s.default)()}return e.prototype.toString=function(){return"[".concat(this.constructor.name,": campaignId=").concat(this.campaignId,", times=").concat(this.times,", first=").concat(this.first.format(),", last=").concat(this.last.format(),"]")},e}();t.DataPoint=i},61:function(e,t,n){"use strict";var s,o,i=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Event=0[0],o=function(e){function t(t,n,s,o,i,a,r,c){var l=this;if("string"==typeof t){if("string"!=typeof i||"string"!=typeof n)throw TypeError("You either need to provide all non-optional arguments in their place or in an object as the first argument.");(l=e.call(this,i,a,r,c)||this).category=t,l.action=n,l.name=s,l.value=o}else(l=e.call(this,t.campaignId,t.times,t.first,t.last)||this).category=t.category,l.action=t.action,l.name=t.name,l.value=t.value;return l}return i(t,e),t.prototype.toString=function(){return"[".concat(this.constructor.name,": category=").concat(this.category,", action=").concat(this.action,", name=").concat(this.name,", value=").concat(this.value,", campaignId=").concat(this.campaignId,", times=").concat(this.times,", first=").concat(this.first.format(),", last=").concat(this.last.format(),"]")},t}(n(563).DataPoint),t.Event=o},777:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.EventAggregationRule=0[0],function(e){e.Sum="sum",e.Avg="avg"}(n||(t.EventAggregationRule=n={}))},744:function(e,t,n){"use strict";i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Object.defineProperty(t,"__esModule",{value:!0}),t.Insights=0[0];var i,a,s=n(446),o=i(n(353)),r=i(n(522));o.default.extend(r.default),a=function(){function e(t,n){var i,a=this;this.idsite=0,this.lang=0[0],this.ua=0[0],this.visits=[],this.events=[],this.idsite=t.siteId,!t.serverSideAnonymousUsage&&n.consents.stateOfFeature(s.Feature.lang)==s.ConsentState.granted&&"object"==typeof navigator&&navigator&&(this.lang=e.acceptLanguages()),!t.serverSideAnonymousUsage&&n.consents.stateOfFeature(s.Feature.ua)==s.ConsentState.granted&&"object"==typeof navigator&&navigator&&(this.ua=navigator.userAgent),e.purge(t,n),i=(0,o.default)(),n.visits.forEach(function(e){t.campaigns.hasOwnProperty(e.campaignId)&&i.isAfter(e.last)&&a.visits.push({action_name:e.scenePath.join("/"),period_start:e.first.unix(),period_end:e.last.unix(),times:e.times})}),n.events.forEach(function(e){t.campaigns.hasOwnProperty(e.campaignId)&&i.isAfter(e.last)&&a.events.push({category:e.category,action:e.action,name:e.name,value:e.value,period_start:e.first.unix(),period_end:e.last.unix(),times:e.times})})}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.visits.length<1&&this.events.length<1},enumerable:!1,configurable:!0}),e.prototype.clean=function(t){this.visits.forEach(function(n){for(var o,s=t.visits.length;s--;)o=t.visits[s],o.scenePath.join("/")===n.action_name&&e.equals(o,n)&&t.visits.splice(s,1)}),this.events.forEach(function(n){for(var s,o=t.events.length;o--;)s=t.events[o],s.category===n.category&&s.action===n.action&&s.name==n.name&&s.value==n.value&&e.equals(s,n)&&t.events.splice(o,1)})},e.equals=function(e,t){return e.first.unix()===t.period_start&&e.last.unix()===t.period_end&&e.times===t.times},e.acceptLanguages=function(){for(var t,n=[],s=navigator.languages||[navigator.language],e=0;e<s.length;e++)if(t=1-.1*e,n.push("".concat(s[e],";q=").concat(t)),t<=.5)break;return n.join(",")},e.purge=function(e,t){for(var s=(0,o.default)().subtract(o.default.duration(e.maxAgeOfOldData,"days")),n=t.visits.length;n--;)t.visits[n].last.isBefore(s)&&t.visits.splice(n,1);for(n=t.events.length;n--;)t.events[n].last.isBefore(s)&&t.events.splice(n,1)},e}(),t.Insights=a},652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Store=0[0];var s=n(446),o=n(61),i=n(206);t.Store=function(e,t){var n,a=this;this.consents=new s.Consents,this.visits=[],this.events=[],0[0]===t&&(t=function(){}),t("Store created from the following arguments: ".concat(JSON.stringify(e))),(e=e||{}).debug=t,n=this.load(e),0[0]===n?t("Storage doesn't exist or isn't readable."):(this.consents=new s.Consents(n.consents),n.visits.forEach(function(e){a.visits.push(new i.Visit(e))}),n.events.forEach(function(e){a.events.push(new o.Event(e))}),t("Data loaded from storage."))}},206:function(e,t,n){"use strict";var s,o,i=this&&this.__extends||(s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Visit=0[0],o=function(e){function t(t,n,s,o,i){var a=this;if(Array.isArray(t)){if("string"!=typeof n)throw TypeError("You either need to provide all non-optional arguments in their place or in an object as the first argument.");(a=e.call(this,n,s,o,i)||this).scenePath=t}else(a=e.call(this,t.campaignId,t.times,t.first,t.last)||this).scenePath=t.scenePath;return a}return i(t,e),t.prototype.toString=function(){return"[".concat(this.constructor.name,": scenePath=").concat(this.scenePath,", campaignId=").concat(this.campaignId,", times=").concat(this.times,", first=").concat(this.first.format(),", last=").concat(this.last.format(),"]")},t}(n(563).DataPoint),t.Visit=o},446:function(e,t,n){"use strict";var s,o,i,a,r,c,d,u,l=this&&this.__extends||(c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignConsent=t.FeatureConsent=t.Consents=t.Consent=t.ConsentState=t.Feature=0[0],i=h(n(353)),!function(e){e.lang="lang",e.ua="ua"}(d||(t.Feature=d={})),function(e){e.unconfigured="unconfigured",e.unknown="unknown",e.denied="denied",e.notStarted="notStarted",e.expired="expired",e.granted="granted"}(o||(t.ConsentState=o={})),s=function(){function e(e,t,n){"object"==typeof e&&e?(this.granted=e.granted,this.start=(0,i.default)(e.start),this.end=(0,i.default)(e.end)):(this.granted=e,this.start=t?(0,i.default)(t):(0,i.default)(),this.end=n?(0,i.default)(n):(0,i.default)())}return Object.defineProperty(e.prototype,"state",{get:function(){return this.granted?o.granted:o.denied},enumerable:!1,configurable:!0}),e}(),t.Consent=s,a=function(e){function t(t,n){var s=e.call(this,n.granted,n.start,n.end)||this;return s.feature=t,s}return l(t,e),t}(s),t.FeatureConsent=a,r=function(e){function t(t,n){var s=e.call(this,n.granted,n.start,n.end)||this;return s.campaignId=t,s}return l(t,e),Object.defineProperty(t.prototype,"state",{get:function(){if(!this.granted)return o.denied;var e=(0,i.default)();return e.isBefore(this.start)?o.notStarted:e.isAfter(this.end)?o.expired:o.granted},enumerable:!1,configurable:!0}),t}(s),t.CampaignConsent=r,u=function(){function e(e){if(this.features={},this.campaigns={},"object"==typeof e&&e){for(var t in e.features)e.features.hasOwnProperty(t)&&(this.features[t]=new s(e.features[t]));for(var n in e.campaigns)e.campaigns.hasOwnProperty(n)&&(this.campaigns[n]=new s(e.campaigns[n]))}}return e.prototype.grantFeature=function(e){return this.features.hasOwnProperty(e)&&this.features[e].granted||(this.features[e]=new s(!0)),new a(e,this.features[e])},e.prototype.denyFeature=function(e){return this.features.hasOwnProperty(e)&&!this.features[e].granted||(this.features[e]=new s(!1)),new a(e,this.features[e])},e.prototype.consentForFeature=function(e){return this.features.hasOwnProperty(e)?new a(e,this.features[e]):null},e.prototype.stateOfFeature=function(e){var t,n;return null!==(n=null===(t=this.consentForFeature(e))||0[0]===t?0[0]:t.state)&&0[0]!==n?n:o.unknown},e.prototype.grantCampaign=function(e,t){var n=t.nextTotalMeasurementPeriod;return this.campaigns[e]=n?new s(!0,n.start,n.end):new s(!0),new r(e,this.campaigns[e])},e.prototype.denyCampaign=function(e){return this.campaigns.hasOwnProperty(e)&&!this.campaigns[e].granted||(this.campaigns[e]=new s(!1)),new r(e,this.campaigns[e])},e.prototype.consentForCampaign=function(e){return this.campaigns.hasOwnProperty(e)?new r(e,this.campaigns[e]):null},e.prototype.stateOfCampaign=function(e){var t,n;return null!==(n=null===(t=this.consentForCampaign(e))||0[0]===t?0[0]:t.state)&&0[0]!==n?n:o.unknown},e}(),t.Consents=u},665:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Visit=t.Store=t.Insights=t.FeatureConsent=t.Feature=t.EventAggregationRule=t.Event=t.ConsentRequestUi=t.ConsentState=t.Consents=t.Consent=t.Configuration=t.CleanInsights=t.CampaignConsent=t.Campaign=t.BrowserStore=0[0];var s,o,i,a,r,c,l,d,u,h,m=n(828);Object.defineProperty(t,"BrowserStore",{enumerable:!0,get:function(){return m.BrowserStore}}),o=n(951),Object.defineProperty(t,"Campaign",{enumerable:!0,get:function(){return o.Campaign}}),i=n(329),Object.defineProperty(t,"CleanInsights",{enumerable:!0,get:function(){return i.CleanInsights}}),s=n(446),Object.defineProperty(t,"CampaignConsent",{enumerable:!0,get:function(){return s.CampaignConsent}}),Object.defineProperty(t,"Consent",{enumerable:!0,get:function(){return s.Consent}}),Object.defineProperty(t,"Consents",{enumerable:!0,get:function(){return s.Consents}}),Object.defineProperty(t,"ConsentState",{enumerable:!0,get:function(){return s.ConsentState}}),Object.defineProperty(t,"Feature",{enumerable:!0,get:function(){return s.Feature}}),Object.defineProperty(t,"FeatureConsent",{enumerable:!0,get:function(){return s.FeatureConsent}}),a=n(687),Object.defineProperty(t,"Configuration",{enumerable:!0,get:function(){return a.Configuration}}),r=n(384),Object.defineProperty(t,"ConsentRequestUi",{enumerable:!0,get:function(){return r.ConsentRequestUi}}),c=n(61),Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return c.Event}}),l=n(777),Object.defineProperty(t,"EventAggregationRule",{enumerable:!0,get:function(){return l.EventAggregationRule}}),d=n(744),Object.defineProperty(t,"Insights",{enumerable:!0,get:function(){return d.Insights}}),u=n(652),Object.defineProperty(t,"Store",{enumerable:!0,get:function(){return u.Store}}),h=n(206),Object.defineProperty(t,"Visit",{enumerable:!0,get:function(){return h.Visit}})}},t={};function e(s){var o,i=t[s];return 0[0]!==i?i.exports:(o=t[s]={exports:{}},n[s].call(o.exports,o,o.exports,e),o.exports)}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),(()=>{"use strict";var t=e(665);window.CleanInsightsAutoTracker=function(e,n,s){var o,i={server:e,siteId:n,persistEveryNTimes:1,campaigns:s||{}};return i.campaigns.hasOwnProperty("visits")||(i.campaigns.visits={start:"1970-01-01T00:00:00-00:00",end:"2099-12-31T23:59:59-00:00",aggregationPeriodLength:1,numberOfPeriods:5e4}),o=new t.CleanInsights(i),o.measureVisit(document.location.pathname.split("/"),"visits"),window.cleanInsights=o,o},window.CleanInsightsFeature=t.Feature})()})()